window.record=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";t.__esModule=!0,function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(t.NodeType||(t.NodeType={})),function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta"}(t.EventType||(t.EventType={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input"}(t.IncrementalSource||(t.IncrementalSource={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove=8]="TouchMove",e[e.TouchEnd=9]="TouchEnd"}(t.MouseInteractions||(t.MouseInteractions={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction"}(t.ReplayerEvents||(t.ReplayerEvents={}))},function(e,t,n){"use strict";t.__esModule=!0,t.on=function(e,t,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}},t.mirror={map:{},getId:function(e){return e.__sn?e.__sn.id:-1},getNode:function(e){return t.mirror.map[e]||null},removeNodeFromMap:function(e){var n=e.__sn&&e.__sn.id;delete t.mirror.map[n],e.childNodes&&e.childNodes.forEach(function(e){return t.mirror.removeNodeFromMap(e)})},has:function(e){return t.mirror.map.hasOwnProperty(e)}},t.throttle=function(e,t,n){void 0===n&&(n={});var r=null,o=0;return function(){var i=Date.now();o||!1!==n.leading||(o=i);var a=t-(i-o),u=this,c=arguments;a<=0||a>t?(r&&(window.clearTimeout(r),r=null),o=i,e.apply(u,c)):r||!1===n.trailing||(r=window.setTimeout(function(){o=!1===n.leading?0:Date.now(),r=null,e.apply(u,c)},a))}},t.hookSetter=function e(t,n,r){var o=Object.getOwnPropertyDescriptor(t,n);return Object.defineProperty(t,n,{set:function(e){var t=this;setTimeout(function(){r.set.call(t,e)},0),o&&o.set&&o.set.call(this,e)}}),function(){return e(t,n,o||{})}},t.getWindowHeight=function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},t.getWindowWidth=function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth},t.isBlocked=function e(t,n){return!!t&&(t.nodeType===t.ELEMENT_NODE&&t.classList.contains(n)||e(t.parentNode,n))},t.isAncestorRemoved=function e(n){var r=t.mirror.getId(n);return!t.mirror.has(r)||(!n.parentNode||n.parentNode.nodeType!==n.DOCUMENT_NODE)&&(!n.parentNode||e(n.parentNode))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.snapshot=r.default,t.serializeNodeWithId=r.serializeNodeWithId,t.resetId=r.resetId;var o=n(6);t.rebuild=o.default,t.buildNodeWithSN=o.buildNodeWithSN,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0))},,,function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=1;function i(){o=1}function a(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).reduce(function(e,t){return e+t.cssText},""):null}catch(e){return null}}t.resetId=i;var u=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,c=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,s=/^(data:)([\w\/\+\-]+);(charset=[\w-]+|base64).*,(.*)/gi;function l(e,t){return e.replace(u,function(e,n,r,o){var i,a=n||r||o;if(!a)return e;if(!c.test(a))return"url('"+a+"')";if(s.test(a))return"url("+a+")";if("/"===a[0])return"url('"+(((i=t).indexOf("//")>-1?i.split("/").slice(0,3).join("/"):i.split("/")[0]).split("?")[0]+a)+"')";var u=t.split("/"),l=a.split("/");u.pop();for(var d=0,f=l;d<f.length;d++){var p=f[d];"."!==p&&(".."===p?u.pop():u.push(p))}return"url('"+u.join("/")+"')"})}function d(e,t){var n=e.createElement("a");return n.href=t,n.href}function f(e,t,n,i,u){void 0===u&&(u=!1);var c=function(e,t,n){switch(e.nodeType){case e.DOCUMENT_NODE:return{type:r.NodeType.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:r.NodeType.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:for(var o=e.classList.contains(n),i=e.tagName.toLowerCase(),u={},c=0,s=Array.from(e.attributes);c<s.length;c++){var f=s[c],p=f.name,m=f.value;u[p]="src"===p||"href"===p?d(t,m):"style"===p?l(m,location.href):m}if("link"===i){var h,v=Array.from(t.styleSheets).find(function(t){return t.href===e.href});(h=a(v))&&(delete u.rel,delete u.href,u._cssText=l(h,v.href))}if("style"===i&&e.sheet&&!e.innerHTML.trim().length&&(h=a(e.sheet))&&(u._cssText=l(h,location.href)),"input"!==i&&"textarea"!==i&&"select"!==i||(m=e.value,"radio"!==u.type&&"checkbox"!==u.type&&m?u.value=m:e.checked&&(u.checked=e.checked)),"option"===i){var y=e.parentElement;u.value===y.value&&(u.selected=e.selected)}if(o){var g=e.getBoundingClientRect(),b=g.width,T=g.height;u.rr_width=b+"px",u.rr_height=T+"px"}return{type:r.NodeType.Element,tagName:i,attributes:u,childNodes:[],isSVG:(C=e,"svg"===C.tagName||C instanceof SVGElement||void 0),needBlock:o};case e.TEXT_NODE:var N=e.parentNode&&e.parentNode.tagName,E=e.textContent,w="STYLE"===N||void 0;return w&&E&&(E=l(E,location.href)),"SCRIPT"===N&&(E="SCRIPT_PLACEHOLDER"),{type:r.NodeType.Text,textContent:E||"",isStyle:w};case e.CDATA_SECTION_NODE:return{type:r.NodeType.CDATA,textContent:""};case e.COMMENT_NODE:return{type:r.NodeType.Comment,textContent:e.textContent||""};default:return!1}var C}(e,t,i);if(!c)return console.warn(e,"not serialized"),null;var s=Object.assign(c,{id:o++});e.__sn=s,n[s.id]=e;var p=!u;if(s.type===r.NodeType.Element&&(p=p&&!s.needBlock,delete s.needBlock),(s.type===r.NodeType.Document||s.type===r.NodeType.Element)&&p)for(var m=0,h=Array.from(e.childNodes);m<h.length;m++){var v=f(h[m],t,n,i);v&&s.childNodes.push(v)}return s}t.absoluteToStylesheet=l,t.serializeNodeWithId=f,t.default=function(e,t){void 0===t&&(t="rr-block"),i();var n={};return[f(e,e,n,t),n]}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};var i=/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g,a=/([^\\]):hover/g;function u(e){return e.replace(i,function(e,t,n){if(a.test(t)){var r=t.replace(a,"$1.\\:hover");return t.replace(/\s*$/,"")+", "+r.replace(/^\s*/,"")+n}return e})}function c(e,t){switch(e.type){case r.NodeType.Document:return t.implementation.createDocument(null,"",null);case r.NodeType.DocumentType:return t.implementation.createDocumentType(e.name,e.publicId,e.systemId);case r.NodeType.Element:var n=function(e){var t=o[e.tagName]?o[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e),i=void 0;for(var a in i=e.isSVG?t.createElementNS("http://www.w3.org/2000/svg",n):t.createElement(n),e.attributes)if(e.attributes.hasOwnProperty(a)&&!a.startsWith("rr_")){var c=e.attributes[a];c="boolean"==typeof c?"":c;var s="textarea"===n&&"value"===a,l="style"===n&&"_cssText"===a;if(l&&(c=u(c)),s||l){var d=t.createTextNode(c);i.appendChild(d);continue}if("iframe"===n&&"src"===a)continue;try{i.setAttribute(a,c)}catch(e){}}else e.attributes.rr_width&&(i.style.width=e.attributes.rr_width),e.attributes.rr_height&&(i.style.height=e.attributes.rr_height);return i;case r.NodeType.Text:return t.createTextNode(e.isStyle?u(e.textContent):e.textContent);case r.NodeType.CDATA:return t.createCDATASection(e.textContent);case r.NodeType.Comment:return t.createComment(e.textContent);default:return null}}function s(e,t,n,o){void 0===o&&(o=!1);var i=c(e,t);if(!i)return null;if(e.type===r.NodeType.Document&&(t.close(),t.open(),i=t),i.__sn=e,n[e.id]=i,(e.type===r.NodeType.Document||e.type===r.NodeType.Element)&&!o)for(var a=0,u=e.childNodes;a<u.length;a++){var l=u[a],d=s(l,t,n);d?i.appendChild(d):console.warn("Failed to rebuild",l)}return i}t.addHoverClass=u,t.buildNodeWithSN=s,t.default=function(e,t){var n={};return[s(e,t,n),n]}},,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0;var o=n(2),i=n(16),a=n(1),u=n(0);function c(e){return r({},e,{timestamp:Date.now()})}t.default={record:function(e){void 0===e&&(e={});var t,n=e.emit,s=e.checkoutEveryNms,l=e.checkoutEveryNth,d=e.blockClass,f=void 0===d?"rr-block":d,p=e.ignoreClass,m=void 0===p?"rr-ignore":p;if(!n)throw new Error("emit function is required");var h=0,v=function(e,r){if(n(e,r),e.type===u.EventType.FullSnapshot)t=e,h=0;else if(e.type===u.EventType.IncrementalSnapshot){h++;var o=l&&h>=l,i=s&&e.timestamp-t.timestamp>s;(o||i)&&y(!0)}};function y(e){void 0===e&&(e=!1),v(c({type:u.EventType.Meta,data:{href:window.location.href,width:a.getWindowWidth(),height:a.getWindowHeight()}}),e);var t=o.snapshot(document,f),n=t[0],r=t[1];if(!n)return console.warn("Failed to snapshot the document");a.mirror.map=r,v(c({type:u.EventType.FullSnapshot,data:{node:n,initialOffset:{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}}))}try{var g=[];g.push(a.on("DOMContentLoaded",function(){v(c({type:u.EventType.DomContentLoaded,data:{}}))}));var b=function(){y(),g.push(i.default({mutationCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:r({source:u.IncrementalSource.Mutation},e)}))},mousemoveCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:{source:u.IncrementalSource.MouseMove,positions:e}}))},mouseInteractionCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:r({source:u.IncrementalSource.MouseInteraction},e)}))},scrollCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:r({source:u.IncrementalSource.Scroll},e)}))},viewportResizeCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:r({source:u.IncrementalSource.ViewportResize},e)}))},inputCb:function(e){return v(c({type:u.EventType.IncrementalSnapshot,data:r({source:u.IncrementalSource.Input},e)}))},blockClass:f,ignoreClass:m}))};return"interactive"===document.readyState||"complete"===document.readyState?b():g.push(a.on("load",function(){v(c({type:u.EventType.Load,data:{}})),b()},window)),function(){g.forEach(function(e){return e()})}}catch(e){console.warn(e)}},mirror:a.mirror}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0;var o=n(2),i=n(1),a=n(0),u=n(17);function c(e,t){var n=[];return Object.keys(a.MouseInteractions).filter(function(e){return Number.isNaN(Number(e))}).forEach(function(r){var o=r.toLowerCase(),u=function(n){return function(r){if(!i.isBlocked(r.target,t)){var o=i.mirror.getId(r.target),u=r.clientX,c=r.clientY;e({type:a.MouseInteractions[n],id:o,x:u,y:c})}}}(r);n.push(i.on(o,u))}),function(){n.forEach(function(e){return e()})}}var s=["INPUT","TEXTAREA","SELECT"],l=new WeakMap;t.default=function(e){var t,n,a,d=(t=e.mutationCb,n=e.blockClass,(a=new MutationObserver(function(e){var r=[],a=[],c=[],s=[],l=new Set,d=new Set,f=function(e){i.isBlocked(e,n)||(l.add(e),d.delete(e),e.childNodes.forEach(function(e){return f(e)}))};e.forEach(function(e){var t=e.type,o=e.target,s=e.oldValue,p=e.addedNodes,m=e.removedNodes,h=e.attributeName;switch(t){case"characterData":var v=o.textContent;i.isBlocked(o,n)||v===s||r.push({value:v,node:o});break;case"attributes":if(v=o.getAttribute(h),i.isBlocked(o,n)||v===s)return;var y=a.find(function(e){return e.node===o});y||(y={node:o,attributes:{}},a.push(y)),y.attributes[h]=v;break;case"childList":p.forEach(function(e){return f(e)}),m.forEach(function(e){var t=i.mirror.getId(e),r=i.mirror.getId(o);i.isBlocked(e,n)||(l.has(e)?(u.deepDelete(l,e),d.add(e)):l.has(o)&&-1===t||i.isAncestorRemoved(o)||c.push({parentId:r,id:t}),i.mirror.removeNodeFromMap(e))})}}),Array.from(l).forEach(function(e){u.isParentDropped(d,e)||u.isParentRemoved(c,e)?d.add(e):s.push({parentId:i.mirror.getId(e.parentNode),previousId:e.previousSibling?i.mirror.getId(e.previousSibling):e.previousSibling,nextId:e.nextSibling?i.mirror.getId(e.nextSibling):e.nextSibling,node:o.serializeNodeWithId(e,document,i.mirror.map,n,!0)})});var p={texts:r.map(function(e){return{id:i.mirror.getId(e.node),value:e.value}}).filter(function(e){return i.mirror.has(e.id)}),attributes:a.map(function(e){return{id:i.mirror.getId(e.node),attributes:e.attributes}}).filter(function(e){return i.mirror.has(e.id)}),removes:c,adds:s};(p.texts.length||p.attributes.length||p.removes.length||p.adds.length)&&t(p)})).observe(document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a),f=function(e){var t,n=[],r=i.throttle(function(){var r=Date.now()-t;e(n.map(function(e){return e.timeOffset-=r,e})),n=[],t=null},500),o=i.throttle(function(e){var o=e.clientX,a=e.clientY,u=e.target;t||(t=Date.now()),n.push({x:o,y:a,id:i.mirror.getId(u),timeOffset:Date.now()-t}),r()},50,{trailing:!1});return i.on("mousemove",o)}(e.mousemoveCb),p=c(e.mouseInteractionCb,e.blockClass),m=function(e,t){var n=i.throttle(function(n){if(n.target&&!i.isBlocked(n.target,t)){var r=i.mirror.getId(n.target);if(n.target===document){var o=document.scrollingElement||document.documentElement;e({id:r,x:o.scrollLeft,y:o.scrollTop})}else e({id:r,x:n.target.scrollLeft,y:n.target.scrollTop})}},100);return i.on("scroll",n)}(e.scrollCb,e.blockClass),h=function(e){var t=i.throttle(function(){var t=i.getWindowHeight(),n=i.getWindowWidth();e({width:Number(n),height:Number(t)})},200);return i.on("resize",t,window)}(e.viewportResizeCb),v=function(e,t,n){function o(e){var r=e.target;if(r&&r.tagName&&!(s.indexOf(r.tagName)<0)&&!i.isBlocked(r,t)){var o=r.type;if("password"!==o&&!r.classList.contains(n)){var u=r.value,c=!1;"radio"!==o&&"checkbox"!==o||(c=r.checked),a(r,{text:u,isChecked:c});var l=r.name;"radio"===o&&l&&c&&document.querySelectorAll('input[type="radio"][name="'+l+'"]').forEach(function(e){e!==r&&a(e,{text:e.value,isChecked:!c})})}}}function a(t,n){var o=l.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){l.set(t,n);var a=i.mirror.getId(t);e(r({},n,{id:a}))}}var u=["input","change"].map(function(e){return i.on(e,o)}),c=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),d=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"]];return c&&c.set&&u.push.apply(u,d.map(function(e){return i.hookSetter(e[0],e[1],{set:function(){o({target:this})}})})),function(){u.forEach(function(e){return e()})}}(e.inputCb,e.blockClass,e.ignoreClass);return function(){d.disconnect(),f(),p(),m(),h(),v()}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t.deepDelete=function e(t,n){t.delete(n),n.childNodes.forEach(function(n){return e(t,n)})},t.isParentRemoved=function e(t,n){var o=n.parentNode;if(!o)return!1;var i=r.mirror.getId(o);return!!t.some(function(e){return e.id===i})||e(t,o)},t.isParentDropped=function e(t,n){var r=n.parentNode;return!!r&&(!!t.has(r)||e(t,r))}}]).default;